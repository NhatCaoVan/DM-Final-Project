{
  "deployment_info": {
    "analysis_date": "2025-05-25T00:49:30.862531",
    "model_path": "outputs\\models\\baseline_model.pkl",
    "data_path": "datasets\\Dataset_Cay quyet dinh_HV.xlsx",
    "output_directory": "outputs\\deployment"
  },
  "feature_analysis": {
    "model": "DecisionTreeClassifier(class_weight='balanced', criterion='entropy',\n                       max_depth=5, min_samples_leaf=5, min_samples_split=10,\n                       random_state=42)",
    "preprocessor": "ColumnTransformer(transformers=[('num', StandardScaler(),\n                                 ['age', 'month', 'year', 'data_volume',\n                                  'data_spending', 'sms_volume', 'sms_spending',\n                                  'voice_duration', 'voice_spending']),\n                                ('cat',\n                                 OneHotEncoder(drop='first',\n                                               handle_unknown='ignore',\n                                               sparse_output=False),\n                                 ['gender', 'district', 'data_package'])])",
    "feature_names": [
      "age",
      "month",
      "year",
      "data_volume",
      "data_spending",
      "sms_volume",
      "sms_spending",
      "voice_duration",
      "voice_spending",
      "gender_Male",
      "district_Phu Loc",
      "district_Phu Nhuan",
      "district_Phu Vang",
      "district_Vinh hoi",
      "data_package_BIG70",
      "data_package_BIG90",
      "data_package_BM69",
      "data_package_D120",
      "data_package_D70",
      "data_package_DCH",
      "data_package_DGM",
      "data_package_DGT",
      "data_package_DINO70",
      "data_package_DMAX",
      "data_package_DMAX100",
      "data_package_DVE80",
      "data_package_GM30",
      "data_package_GT30",
      "data_package_M1",
      "data_package_M3",
      "data_package_MAX100",
      "data_package_SP50",
      "data_package_THAGA60",
      "data_package_THAGA70",
      "data_package_VE55",
      "data_package_VS50"
    ],
    "preprocessing_data": {
      "df_original": "        id  gender  age    district  month  year  ... data_spending  sms_volume  sms_spending  voice_duration  voice_spending  churn\n0        1    Male   28  Huong Thuy      2  2023  ...         70000          16          2444           11.39           17085      0\n1        2    Male   24    Phu Vang      2  2023  ...         70000           8          3030           28.58           42870      0\n2        3  Female   26    Phu Vang      1  2023  ...         69000          12          2905           26.41           39615      0\n3        4  Female   19    Phu Vang      3  2023  ...         90000          11          4149           17.94           26910      0\n4        5    Male   28  Huong Thuy      3  2023  ...         80000          13          5156           33.24           49860      0\n...    ...     ...  ...         ...    ...   ...  ...           ...         ...           ...             ...             ...    ...\n4995  4996  Female   28     Phu Loc      1  2023  ...         75000          10          2705           39.43           59145      1\n4996  4997    Male   22    Phu Vang      2  2023  ...         60000           8          5703           20.48           30720      0\n4997  4998    Male   37    Vinh hoi      2  2023  ...         70000           9          3573           30.14           45210      0\n4998  4999    Male   16    Vinh hoi      1  2023  ...        100000          17          4253           13.77           20655      0\n4999  5000  Female   40  Huong Thuy      2  2023  ...         90000          18          4683           41.09           61635      0\n\n[5000 rows x 14 columns]",
      "df_clean": "        id  gender  age    district  month  year  ... data_spending  sms_volume  sms_spending  voice_duration  voice_spending  churn\n0        1    Male   28  Huong Thuy      2  2023  ...         70000          16          2444           11.39           17085      0\n1        2    Male   24    Phu Vang      2  2023  ...         70000           8          3030           28.58           42870      0\n2        3  Female   26    Phu Vang      1  2023  ...         69000          12          2905           26.41           39615      0\n3        4  Female   19    Phu Vang      3  2023  ...         90000          11          4149           17.94           26910      0\n4        5    Male   28  Huong Thuy      3  2023  ...         80000          13          5156           33.24           49860      0\n...    ...     ...  ...         ...    ...   ...  ...           ...         ...           ...             ...             ...    ...\n4995  4996  Female   28     Phu Loc      1  2023  ...         75000          10          2705           39.43           59145      1\n4996  4997    Male   22    Phu Vang      2  2023  ...         60000           8          5703           20.48           30720      0\n4997  4998    Male   37    Vinh hoi      2  2023  ...         70000           9          3573           30.14           45210      0\n4998  4999    Male   16    Vinh hoi      1  2023  ...        100000          17          4253           13.77           20655      0\n4999  5000  Female   40  Huong Thuy      2  2023  ...         90000          18          4683           41.09           61635      0\n\n[4371 rows x 14 columns]",
      "description": {
        "shape": [
          5000,
          14
        ],
        "columns": [
          "id",
          "gender",
          "age",
          "district",
          "month",
          "year",
          "data_package",
          "data_volume",
          "data_spending",
          "sms_volume",
          "sms_spending",
          "voice_duration",
          "voice_spending",
          "churn"
        ],
        "dtypes": {
          "id": "int64",
          "gender": "object",
          "age": "int64",
          "district": "object",
          "month": "int64",
          "year": "int64",
          "data_package": "object",
          "data_volume": "float64",
          "data_spending": "int64",
          "sms_volume": "int64",
          "sms_spending": "int64",
          "voice_duration": "float64",
          "voice_spending": "int64",
          "churn": "int64"
        },
        "missing_values": {
          "id": 0,
          "gender": 0,
          "age": 0,
          "district": 0,
          "month": 0,
          "year": 0,
          "data_package": 0,
          "data_volume": 0,
          "data_spending": 0,
          "sms_volume": 0,
          "sms_spending": 0,
          "voice_duration": 0,
          "voice_spending": 0,
          "churn": 0
        },
        "numeric_stats": {
          "id": {
            "count": 5000.0,
            "mean": 2500.5,
            "std": 1443.5200033252052,
            "min": 1.0,
            "25%": 1250.75,
            "50%": 2500.5,
            "75%": 3750.25,
            "max": 5000.0
          },
          "age": {
            "count": 5000.0,
            "mean": 28.038,
            "std": 5.271025777071149,
            "min": 12.0,
            "25%": 24.0,
            "50%": 28.0,
            "75%": 32.0,
            "max": 50.0
          },
          "month": {
            "count": 5000.0,
            "mean": 2.017,
            "std": 0.8104581225909793,
            "min": 1.0,
            "25%": 1.0,
            "50%": 2.0,
            "75%": 3.0,
            "max": 3.0
          },
          "year": {
            "count": 5000.0,
            "mean": 2023.0,
            "std": 0.0,
            "min": 2023.0,
            "25%": 2023.0,
            "50%": 2023.0,
            "75%": 2023.0,
            "max": 2023.0
          },
          "data_volume": {
            "count": 5000.0,
            "mean": 124.581946,
            "std": 30.001519217935627,
            "min": -5.56,
            "25%": 104.1175,
            "50%": 124.92500000000001,
            "75%": 144.465,
            "max": 237.94
          },
          "data_spending": {
            "count": 5000.0,
            "mean": 77163.4,
            "std": 23699.380425794112,
            "min": 25000.0,
            "25%": 69000.0,
            "50%": 70000.0,
            "75%": 90000.0,
            "max": 129000.0
          },
          "sms_volume": {
            "count": 5000.0,
            "mean": 13.0414,
            "std": 3.5788053327223466,
            "min": 2.0,
            "25%": 11.0,
            "50%": 13.0,
            "75%": 15.0,
            "max": 29.0
          },
          "sms_spending": {
            "count": 5000.0,
            "mean": 4023.6144,
            "std": 1506.279648335075,
            "min": -1020.0,
            "25%": 3015.0,
            "50%": 4045.5,
            "75%": 5043.25,
            "max": 9263.0
          },
          "voice_duration": {
            "count": 5000.0,
            "mean": 25.143022,
            "std": 10.129879723874318,
            "min": -16.62,
            "25%": 18.38,
            "50%": 25.17,
            "75%": 31.8525,
            "max": 60.19
          },
          "voice_spending": {
            "count": 5000.0,
            "mean": 37714.533,
            "std": 15194.819585811478,
            "min": -24930.0,
            "25%": 27570.0,
            "50%": 37755.0,
            "75%": 47778.75,
            "max": 90285.0
          },
          "churn": {
            "count": 5000.0,
            "mean": 0.2442,
            "std": 0.4296548389767433,
            "min": 0.0,
            "25%": 0.0,
            "50%": 0.0,
            "75%": 0.0,
            "max": 1.0
          }
        },
        "target_column": "churn",
        "class_distribution": {
          "0": 3779,
          "1": 1221
        },
        "class_percentages": {
          "0": 0.7558,
          "1": 0.2442
        }
      },
      "outlier_stats": {
        "outlier_counts": {
          "age": "8",
          "month": "0",
          "year": "0",
          "data_volume": "40",
          "data_spending": "434",
          "sms_volume": "72",
          "sms_spending": "33",
          "voice_duration": "36",
          "voice_spending": "6"
        },
        "rows_before": 5000,
        "rows_after": 4371,
        "rows_removed": 629,
        "percent_removed": 0.1258
      },
      "X_train": "      gender  age    district  month  year data_package  data_volume  data_spending  sms_volume  sms_spending  voice_duration  voice_spending\n3313    Male   23    Phu Vang      2  2023       MAX100       127.67         100000          13          1249           20.81           31215\n1414    Male   33     Phu Loc      2  2023      THAGA70       125.46          70000          13          4841           21.48           32220\n93      Male   35     Phu Loc      1  2023         GM30       137.03          50000          15          2924           14.41           21615\n13    Female   28    Phu Vang      2  2023       BIG120       104.64         120000          17          3691           28.50           42750\n4980    Male   21  Huong Thuy      2  2023         D120        81.15         120000          14          2936           17.28           25920\n...      ...  ...         ...    ...   ...          ...          ...            ...         ...           ...             ...             ...\n2820    Male   28    Phu Vang      3  2023       MAX100       117.46         100000          10          5247           16.17           24255\n806     Male   24    Phu Vang      3  2023          DGT       129.53          89000          13          3332           34.61           51915\n1516  Female   25    Phu Vang      1  2023      THAGA70       175.11          70000          13          1558           22.49           33735\n4895    Male   25    Phu Vang      1  2023        BIG70       134.12          69000          15          2757           25.34           38010\n913     Male   36    Phu Vang      3  2023         BM69       157.42          69000          13          1516           37.88           56820\n\n[3496 rows x 12 columns]",
      "X_test": "      gender  age    district  month  year data_package  data_volume  data_spending  sms_volume  sms_spending  voice_duration  voice_spending\n3537    Male   44  Huong Thuy      1  2023         GM30       118.02          50000          17          2996           15.45           23175\n49      Male   33    Phu Vang      2  2023      THAGA70       154.83          70000          18          6095           17.59           26385\n4729    Male   40    Vinh hoi      3  2023         VS50       156.95          50000          18          5291           25.84           38760\n927     Male   34    Vinh hoi      1  2023      THAGA60       142.63          60000          10          4741           48.17           72255\n2010    Male   25     Phu Loc      2  2023      THAGA70       111.33          70000          12          2501            0.70            1050\n...      ...  ...         ...    ...   ...          ...          ...            ...         ...           ...             ...             ...\n3829    Male   27  Huong Thuy      3  2023          D70       148.04          70000          19          1852           30.38           45570\n4844  Female   19  Huong Thuy      1  2023       BIG120       148.24         120000          12          3864           10.72           16080\n3591    Male   23  Huong Thuy      3  2023      THAGA70        80.33          70000           6          3919           45.08           67620\n3661  Female   27   Phu Nhuan      3  2023          DGM        90.75          79000          11          2652           29.30           43950\n555   Female   34    Phu Vang      3  2023         BM69       166.41          69000          14          2778           19.53           29295\n\n[875 rows x 12 columns]",
      "y_train": "3313    0\n1414    0\n93      0\n13      0\n4980    1\n       ..\n2820    0\n806     0\n1516    0\n4895    0\n913     0\nName: churn, Length: 3496, dtype: int64",
      "y_test": "3537    1\n49      0\n4729    1\n927     0\n2010    0\n       ..\n3829    0\n4844    0\n3591    0\n3661    1\n555     0\nName: churn, Length: 875, dtype: int64",
      "X_train_processed": "[[-0.96586877 -0.0260375   0.         ...  0.          0.\n   0.        ]\n [ 0.94791338 -0.0260375   0.         ...  1.          0.\n   0.        ]\n [ 1.3306698  -1.25613337  0.         ...  0.          0.\n   0.        ]\n ...\n [-0.58311234 -1.25613337  0.         ...  1.          0.\n   0.        ]\n [-0.58311234 -1.25613337  0.         ...  0.          0.\n   0.        ]\n [ 1.52204802  1.20405838  0.         ...  0.          0.\n   0.        ]]",
      "X_test_processed": "[[ 3.05307373 -1.25613337  0.         ...  0.          0.\n   0.        ]\n [ 0.94791338 -0.0260375   0.         ...  1.          0.\n   0.        ]\n [ 2.28756088  1.20405838  0.         ...  0.          0.\n   1.        ]\n ...\n [-0.96586877  1.20405838  0.         ...  1.          0.\n   0.        ]\n [-0.20035591  1.20405838  0.         ...  0.          0.\n   0.        ]\n [ 1.13929159  1.20405838  0.         ...  0.          0.\n   0.        ]]",
      "X_train_resampled": "[[-0.96586877 -0.0260375   0.         ...  0.          0.\n   0.        ]\n [ 0.94791338 -0.0260375   0.         ...  1.          0.\n   0.        ]\n [ 1.3306698  -1.25613337  0.         ...  0.          0.\n   0.        ]\n ...\n [ 1.74889463 -1.25613337  0.         ...  0.          0.\n   0.        ]\n [ 0.69384881 -1.25613337  0.         ...  0.          0.\n   0.        ]\n [ 0.09564595 -0.0260375   0.         ...  0.          0.\n   0.        ]]",
      "y_train_resampled": "0       0\n1       0\n2       0\n3       0\n4       1\n       ..\n5561    1\n5562    1\n5563    1\n5564    1\n5565    1\nName: churn, Length: 5566, dtype: int64",
      "preprocessor": "ColumnTransformer(transformers=[('num', StandardScaler(),\n                                 ['age', 'month', 'year', 'data_volume',\n                                  'data_spending', 'sms_volume', 'sms_spending',\n                                  'voice_duration', 'voice_spending']),\n                                ('cat',\n                                 OneHotEncoder(drop='first',\n                                               handle_unknown='ignore',\n                                               sparse_output=False),\n                                 ['gender', 'district', 'data_package'])])",
      "feature_names": [
        "age",
        "month",
        "year",
        "data_volume",
        "data_spending",
        "sms_volume",
        "sms_spending",
        "voice_duration",
        "voice_spending",
        "gender_Male",
        "district_Phu Loc",
        "district_Phu Nhuan",
        "district_Phu Vang",
        "district_Vinh hoi",
        "data_package_BIG70",
        "data_package_BIG90",
        "data_package_BM69",
        "data_package_D120",
        "data_package_D70",
        "data_package_DCH",
        "data_package_DGM",
        "data_package_DGT",
        "data_package_DINO70",
        "data_package_DMAX",
        "data_package_DMAX100",
        "data_package_DVE80",
        "data_package_GM30",
        "data_package_GT30",
        "data_package_M1",
        "data_package_M3",
        "data_package_MAX100",
        "data_package_SP50",
        "data_package_THAGA60",
        "data_package_THAGA70",
        "data_package_VE55",
        "data_package_VS50"
      ],
      "categorical_cols": [
        "gender",
        "district",
        "data_package"
      ],
      "numeric_cols": [
        "age",
        "month",
        "year",
        "data_volume",
        "data_spending",
        "sms_volume",
        "sms_spending",
        "voice_duration",
        "voice_spending"
      ],
      "id_col_excluded": "id"
    },
    "importance_df": "                 feature  importance  importance_pct\n9            gender_Male    0.222630       22.263000\n0                    age    0.200994       20.099402\n17     data_package_D120    0.143629       14.362942\n15    data_package_BIG90    0.142930       14.292955\n4          data_spending    0.138619       13.861922\n24  data_package_DMAX100    0.094482        9.448172\n12     district_Phu Vang    0.051884        5.188383\n7         voice_duration    0.002697        0.269732\n3            data_volume    0.002135        0.213492\n1                  month    0.000000        0.000000\n2                   year    0.000000        0.000000\n6           sms_spending    0.000000        0.000000\n11    district_Phu Nhuan    0.000000        0.000000\n10      district_Phu Loc    0.000000        0.000000\n8         voice_spending    0.000000        0.000000\n13     district_Vinh hoi    0.000000        0.000000\n14    data_package_BIG70    0.000000        0.000000\n16     data_package_BM69    0.000000        0.000000\n18      data_package_D70    0.000000        0.000000\n5             sms_volume    0.000000        0.000000\n19      data_package_DCH    0.000000        0.000000\n20      data_package_DGM    0.000000        0.000000\n22   data_package_DINO70    0.000000        0.000000\n21      data_package_DGT    0.000000        0.000000\n23     data_package_DMAX    0.000000        0.000000\n25    data_package_DVE80    0.000000        0.000000\n26     data_package_GM30    0.000000        0.000000\n27     data_package_GT30    0.000000        0.000000\n28       data_package_M1    0.000000        0.000000\n29       data_package_M3    0.000000        0.000000\n30   data_package_MAX100    0.000000        0.000000\n31     data_package_SP50    0.000000        0.000000\n32  data_package_THAGA60    0.000000        0.000000\n33  data_package_THAGA70    0.000000        0.000000\n34     data_package_VE55    0.000000        0.000000\n35     data_package_VS50    0.000000        0.000000",
    "model_analysis": {
      "model_type": "DecisionTreeClassifier",
      "model_parameters": {
        "ccp_alpha": 0.0,
        "class_weight": "balanced",
        "criterion": "entropy",
        "max_depth": 5,
        "max_features": null,
        "max_leaf_nodes": null,
        "min_impurity_decrease": 0.0,
        "min_samples_leaf": 5,
        "min_samples_split": 10,
        "min_weight_fraction_leaf": 0.0,
        "monotonic_cst": null,
        "random_state": 42,
        "splitter": "best"
      },
      "tree_depth": 5,
      "n_nodes": 33,
      "n_leaves": 17,
      "n_features_used": 9,
      "total_features": 36,
      "n_features_in": 36,
      "classes": [
        0,
        1
      ],
      "n_classes": 2
    },
    "output_files": {
      "plot": "outputs\\deployment\\analysis\\feature_importance.png",
      "report": "outputs\\deployment\\analysis\\PREPROCESSING_REPORT.md",
      "importance_csv": "outputs\\deployment\\analysis\\feature_importance.csv",
      "analysis_json": "outputs\\deployment\\analysis\\model_analysis.json"
    }
  },
  "model_evaluation": {
    "basic_metrics": {
      "accuracy": 0.8045714285714286,
      "precision": 0.5125448028673835,
      "recall": 0.8033707865168539,
      "f1_score": 0.6258205689277899,
      "roc_auc": 0.8666516209114503,
      "average_precision": 0.6420064681195323,
      "predictions": "[1 0 1 1 0 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 1 0 0 0 1 1 0 0 0 0\n 1 0 0 0 1 1 1 0 1 0 1 0 1 0 1 0 1 0 1 0 0 0 0 1 1 1 0 0 1 0 0 0 0 0 1 0 1\n 0 0 1 0 0 0 1 0 1 0 1 0 0 0 0 0 1 0 1 1 0 0 1 1 0 0 0 0 0 0 0 1 0 1 0 0 0\n 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 1 0 1 1 1 0 0 0 0 0 1 0 0 0 1 0 0 0 1 0 1\n 0 0 1 0 0 0 1 1 0 1 0 1 0 1 0 1 1 0 0 0 1 0 0 1 0 0 1 0 1 0 0 1 1 0 0 0 0\n 0 1 1 0 0 0 1 1 0 0 0 1 0 0 0 0 0 1 0 0 0 1 0 0 0 1 1 1 0 0 0 1 0 0 1 0 1\n 1 0 1 0 0 1 0 0 0 1 1 1 0 0 0 1 0 1 1 0 1 0 0 0 0 1 0 1 0 1 0 0 0 0 0 0 0\n 0 1 0 0 0 1 0 0 0 0 1 1 0 0 1 0 0 0 0 1 1 0 1 0 0 1 0 1 1 0 0 1 0 0 0 0 1\n 0 1 1 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1 0 1 0 1 0 1 0\n 0 0 1 0 0 1 0 0 1 1 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0 0 1 1 1 0 0 1 0 0 0 1 0\n 0 0 0 0 1 0 0 0 1 0 0 1 1 0 1 0 0 0 1 0 0 1 0 1 0 0 0 0 1 0 1 0 0 0 0 0 0\n 0 0 0 0 0 1 0 1 0 1 0 0 0 0 0 1 0 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0\n 0 0 1 0 1 1 0 1 0 1 0 0 1 1 0 1 0 0 1 0 0 1 1 0 1 0 0 0 0 0 1 1 1 1 0 0 0\n 0 0 1 0 0 0 0 0 0 0 1 0 1 1 0 0 0 0 0 1 0 1 0 0 0 0 0 0 0 0 0 1 1 1 0 0 1\n 0 0 1 1 0 0 0 0 0 0 0 0 1 0 1 0 0 1 1 0 1 0 1 0 0 1 1 1 0 0 1 0 1 1 0 0 0\n 1 1 0 1 0 0 0 1 0 0 0 1 0 1 0 1 0 1 0 0 0 0 1 1 0 1 0 0 0 0 0 1 0 0 0 0 0\n 0 0 0 1 0 1 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 1 0 0 1\n 1 0 0 0 0 0 0 0 0 1 1 0 0 1 1 1 0 1 0 0 1 1 0 0 1 0 0 0 1 0 0 0 0 0 0 0 0\n 0 0 0 1 0 0 0 0 0 1 0 0 1 0 1 1 1 0 0 1 1 1 0 0 0 0 1 0 0 1 0 0 1 0 1 0 0\n 1 0 1 0 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0 0 0 1 1 0 0 1 1 1 1 0 1 0 1 1 1 0 0\n 0 1 0 0 0 0 0 1 0 1 1 0 0 1 0 0 0 0 0 0 1 1 1 0 1 0 0 1 0 0 0 0 0 0 0 0 1\n 0 1 1 0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 1 1 0 0 0 1 0 1 1 0 0 0 1 0 1 0 1 0 0\n 1 0 0 1 0 1 0 0 0 1 0 0 0 0 0 0 0 1 0 1 0 1 0 1 0 0 0 0 0 1 0 0 1 0 0 0 1\n 0 0 0 0 1 0 0 1 0 0 0 0 1 0 1 1 0 1 0 0 1 0 1 0]",
      "prediction_probabilities": "[0.69589345 0.19555556 0.69589345 0.69589345 0.12256267 0.12256267\n 0.         0.12256267 0.         0.12256267 0.74669868 0.12256267\n 0.12256267 0.         0.12256267 0.24103586 0.74669868 0.12256267\n 0.12256267 0.         0.12256267 0.24103586 0.12256267 0.24103586\n 0.69589345 0.19555556 0.24103586 0.74669868 0.12256267 0.24103586\n 0.         0.74669868 0.71428571 0.12256267 0.24103586 0.\n 0.12256267 0.69589345 0.12256267 0.19555556 0.12256267 0.9869281\n 0.74669868 0.74669868 0.12256267 0.74669868 0.         1.\n 0.19555556 0.74669868 0.12256267 0.9869281  0.         0.74669868\n 0.24103586 0.69589345 0.         0.         0.12256267 0.12256267\n 0.9869281  0.55813953 0.74669868 0.12256267 0.12256267 0.74669868\n 0.12256267 0.12256267 0.12256267 0.12256267 0.         0.74669868\n 0.         0.74669868 0.19555556 0.24103586 0.74669868 0.12256267\n 0.19555556 0.24103586 0.74669868 0.24103586 0.74669868 0.\n 1.         0.19555556 0.12256267 0.         0.24103586 0.24103586\n 0.74669868 0.12256267 0.74669868 0.71428571 0.19555556 0.\n 0.74669868 0.74669868 0.24103586 0.12256267 0.24103586 0.12256267\n 0.12256267 0.         0.12256267 0.69589345 0.19555556 0.69589345\n 0.12256267 0.12256267 0.24103586 0.12256267 0.12256267 0.12256267\n 0.12256267 0.24103586 0.12256267 0.12256267 0.24103586 0.19555556\n 0.12256267 0.12256267 0.24103586 0.12256267 1.         1.\n 0.12256267 0.69589345 0.12256267 0.74669868 0.69589345 0.74669868\n 0.12256267 0.12256267 0.12256267 0.24103586 0.12256267 1.\n 0.12256267 0.12256267 0.12256267 0.69589345 0.12256267 0.12256267\n 0.12256267 0.74669868 0.05263158 0.69589345 0.12256267 0.24103586\n 0.74669868 0.12256267 0.12256267 0.24103586 0.69589345 0.69589345\n 0.12256267 0.74669868 0.12256267 0.74669868 0.         0.69589345\n 0.12256267 1.         0.69589345 0.12256267 0.12256267 0.12256267\n 0.69589345 0.12256267 0.19555556 0.9869281  0.12256267 0.24103586\n 0.69589345 0.24103586 1.         0.12256267 0.12256267 0.55813953\n 0.74669868 0.         0.12256267 0.19555556 0.12256267 0.12256267\n 0.74669868 0.74669868 0.24103586 0.12256267 0.         0.69589345\n 0.69589345 0.05263158 0.         0.12256267 1.         0.12256267\n 0.12256267 0.12256267 0.12256267 0.12256267 0.74669868 0.\n 0.19555556 0.24103586 0.69589345 0.12256267 0.12256267 0.12256267\n 0.69589345 0.69589345 0.74669868 0.         0.12256267 0.12256267\n 0.74669868 0.         0.12256267 0.69589345 0.12256267 0.69589345\n 0.69589345 0.         0.74669868 0.12256267 0.12256267 0.74669868\n 0.19555556 0.12256267 0.19555556 0.69589345 0.71428571 0.74669868\n 0.12256267 0.24103586 0.12256267 0.69589345 0.24103586 0.55813953\n 0.74669868 0.12256267 0.55813953 0.12256267 0.12256267 0.\n 0.19555556 0.55813953 0.12256267 0.74669868 0.12256267 0.74669868\n 0.12256267 0.12256267 0.12256267 0.12256267 0.12256267 0.12256267\n 0.19555556 0.12256267 1.         0.24103586 0.12256267 0.12256267\n 1.         0.         0.24103586 0.24103586 0.12256267 0.74669868\n 0.74669868 0.12256267 0.05263158 0.69589345 0.24103586 0.12256267\n 0.         0.24103586 0.74669868 0.69589345 0.24103586 1.\n 0.19555556 0.05263158 0.74669868 0.24103586 0.9869281  0.69589345\n 0.12256267 0.12256267 0.69589345 0.12256267 0.12256267 0.12256267\n 0.24103586 0.74669868 0.12256267 0.74669868 0.74669868 0.12256267\n 0.         0.19555556 0.12256267 0.12256267 0.12256267 0.24103586\n 0.12256267 0.12256267 0.69589345 0.69589345 0.         0.12256267\n 0.19555556 0.12256267 0.12256267 0.24103586 0.12256267 0.\n 0.12256267 0.12256267 0.         0.12256267 0.12256267 0.74669868\n 0.12256267 0.69589345 0.12256267 0.69589345 0.         0.74669868\n 0.12256267 0.74669868 0.12256267 0.12256267 0.24103586 1.\n 0.12256267 0.12256267 1.         0.24103586 0.12256267 0.74669868\n 0.74669868 0.12256267 0.         0.         0.12256267 0.12256267\n 0.74669868 0.12256267 0.19555556 0.12256267 0.74669868 0.24103586\n 0.12256267 0.05263158 0.12256267 0.         0.         0.74669868\n 0.9869281  0.74669868 0.12256267 0.12256267 0.69589345 0.\n 0.12256267 0.         0.69589345 0.12256267 0.         0.12256267\n 0.12256267 0.24103586 0.69589345 0.19555556 0.24103586 0.\n 0.74669868 0.12256267 0.12256267 0.74669868 0.9869281  0.12256267\n 0.69589345 0.19555556 0.12256267 0.         0.74669868 0.24103586\n 0.12256267 1.         0.24103586 1.         0.         0.12256267\n 0.19555556 0.24103586 0.74669868 0.12256267 0.69589345 0.24103586\n 0.12256267 0.12256267 0.24103586 0.12256267 0.12256267 0.12256267\n 0.12256267 0.         0.12256267 0.24103586 0.69589345 0.24103586\n 0.74669868 0.12256267 0.74669868 0.12256267 0.24103586 0.\n 0.12256267 0.24103586 0.69589345 0.24103586 0.24103586 0.74669868\n 0.24103586 0.74669868 0.24103586 0.24103586 0.24103586 0.24103586\n 0.         0.05263158 0.         0.         0.         0.24103586\n 0.12256267 0.12256267 0.12256267 0.74669868 0.12256267 0.\n 0.         0.         0.74669868 0.12256267 0.69589345 0.74669868\n 0.12256267 0.69589345 0.12256267 0.74669868 0.19555556 0.12256267\n 0.74669868 0.55813953 0.12256267 0.74669868 0.12256267 0.24103586\n 0.69589345 0.24103586 0.05263158 0.55813953 0.9869281  0.12256267\n 0.74669868 0.         0.12256267 0.19555556 0.12256267 0.12256267\n 0.9869281  0.74669868 0.9869281  0.74669868 0.24103586 0.12256267\n 0.12256267 0.12256267 0.19555556 0.69589345 0.24103586 0.12256267\n 0.         0.12256267 0.12256267 0.12256267 0.12256267 0.69589345\n 0.19555556 0.69589345 0.74669868 0.12256267 0.24103586 0.12256267\n 0.         0.         0.74669868 0.         0.9869281  0.12256267\n 0.12256267 0.12256267 0.12256267 0.12256267 0.         0.12256267\n 0.24103586 0.12256267 0.69589345 0.69589345 0.69589345 0.\n 0.12256267 0.74669868 0.12256267 0.12256267 0.9869281  1.\n 0.12256267 0.12256267 0.12256267 0.12256267 0.12256267 0.12256267\n 0.12256267 0.24103586 0.9869281  0.12256267 0.74669868 0.12256267\n 0.12256267 0.74669868 0.69589345 0.12256267 0.74669868 0.\n 0.74669868 0.12256267 0.24103586 0.69589345 0.74669868 0.69589345\n 0.12256267 0.24103586 0.69589345 0.12256267 0.74669868 0.74669868\n 0.12256267 0.         0.12256267 0.74669868 0.69589345 0.12256267\n 0.74669868 0.12256267 0.19555556 0.12256267 0.74669868 0.12256267\n 0.12256267 0.24103586 0.74669868 0.         1.         0.12256267\n 0.74669868 0.12256267 0.74669868 0.12256267 0.24103586 0.24103586\n 0.         1.         1.         0.12256267 1.         0.24103586\n 0.24103586 0.24103586 0.         0.12256267 0.74669868 0.12256267\n 0.         0.12256267 0.12256267 0.         0.12256267 0.19555556\n 0.12256267 0.69589345 0.12256267 0.69589345 0.12256267 0.\n 0.12256267 0.         0.69589345 0.12256267 0.19555556 0.\n 0.12256267 0.         0.         0.24103586 0.12256267 0.\n 0.12256267 1.         0.24103586 0.05263158 0.12256267 0.24103586\n 0.69589345 0.24103586 0.12256267 0.12256267 0.12256267 1.\n 0.12256267 0.74669868 0.24103586 0.         0.69589345 0.69589345\n 0.12256267 0.19555556 0.24103586 0.12256267 0.12256267 0.12256267\n 0.12256267 0.         0.74669868 0.74669868 0.         0.12256267\n 0.69589345 0.69589345 0.69589345 0.19555556 0.74669868 0.24103586\n 0.12256267 0.69589345 0.74669868 0.12256267 0.         0.74669868\n 0.12256267 0.24103586 0.12256267 0.74669868 0.12256267 0.\n 0.12256267 0.24103586 0.12256267 0.24103586 0.12256267 0.\n 0.12256267 0.12256267 0.12256267 0.69589345 0.12256267 0.12256267\n 0.12256267 0.12256267 0.24103586 0.69589345 0.12256267 0.12256267\n 1.         0.24103586 0.69589345 0.69589345 0.69589345 0.24103586\n 0.12256267 0.74669868 0.69589345 0.74669868 0.12256267 0.05263158\n 0.12256267 0.12256267 0.69589345 0.12256267 0.24103586 0.74669868\n 0.12256267 0.24103586 0.74669868 0.12256267 0.69589345 0.\n 0.12256267 1.         0.24103586 0.55813953 0.19555556 0.12256267\n 0.         0.         0.         0.12256267 0.55813953 0.12256267\n 0.12256267 0.12256267 0.69589345 0.12256267 0.         0.24103586\n 0.12256267 0.12256267 0.         0.12256267 0.55813953 0.74669868\n 0.12256267 0.12256267 1.         0.69589345 0.69589345 0.69589345\n 0.12256267 0.74669868 0.24103586 0.9869281  0.69589345 0.69589345\n 0.         0.         0.         0.69589345 0.12256267 0.12256267\n 0.12256267 0.12256267 0.12256267 0.69589345 0.12256267 0.74669868\n 0.69589345 0.24103586 0.12256267 0.69589345 0.12256267 0.12256267\n 0.12256267 0.19555556 0.12256267 0.12256267 0.69589345 0.69589345\n 0.74669868 0.12256267 0.74669868 0.12256267 0.12256267 0.9869281\n 0.19555556 0.24103586 0.12256267 0.         0.         0.12256267\n 0.12256267 0.12256267 0.69589345 0.12256267 0.74669868 0.74669868\n 0.12256267 0.12256267 0.         0.12256267 0.12256267 0.12256267\n 0.69589345 0.74669868 0.69589345 0.74669868 0.74669868 0.12256267\n 0.19555556 0.24103586 0.24103586 0.69589345 1.         0.12256267\n 0.19555556 0.12256267 1.         0.         0.74669868 1.\n 0.24103586 0.         0.12256267 0.55813953 0.12256267 0.74669868\n 0.12256267 1.         0.12256267 0.12256267 0.69589345 0.24103586\n 0.12256267 0.74669868 0.12256267 0.69589345 0.         0.12256267\n 0.12256267 0.74669868 0.12256267 0.12256267 0.24103586 0.\n 0.24103586 0.12256267 0.12256267 0.74669868 0.19555556 1.\n 0.19555556 0.74669868 0.12256267 0.74669868 0.12256267 0.12256267\n 0.24103586 0.05263158 0.12256267 0.74669868 0.24103586 0.12256267\n 0.69589345 0.12256267 0.24103586 0.12256267 0.74669868 0.12256267\n 0.         0.12256267 0.12256267 0.69589345 0.12256267 0.12256267\n 0.69589345 0.12256267 0.12256267 0.12256267 0.12256267 1.\n 0.12256267 0.74669868 0.74669868 0.12256267 1.         0.12256267\n 0.12256267 0.74669868 0.12256267 0.74669868 0.24103586]",
      "roc_curve": {
        "fpr": "[0.         0.         0.         0.09038737 0.09469154 0.18651363\n 0.19512195 0.32281205 0.3758967  0.85222382 0.8651363  1.        ]",
        "tpr": "[0.         0.17977528 0.26404494 0.59550562 0.59550562 0.7752809\n 0.80337079 0.88764045 0.90449438 0.99438202 1.         1.        ]",
        "thresholds": "[       inf 1.         0.9869281  0.74669868 0.71428571 0.69589345\n 0.55813953 0.24103586 0.19555556 0.12256267 0.05263158 0.        ]"
      },
      "pr_curve": {
        "precision": "[0.20342857 0.22791293 0.22957198 0.38061466 0.41253264 0.5125448\n 0.51492537 0.61627907 0.62721893 1.         1.         1.        ]",
        "recall": "[1.         1.         0.99438202 0.90449438 0.88764045 0.80337079\n 0.7752809  0.59550562 0.59550562 0.26404494 0.17977528 0.        ]",
        "thresholds": "[0.         0.05263158 0.12256267 0.19555556 0.24103586 0.55813953\n 0.69589345 0.71428571 0.74669868 0.9869281  1.        ]"
      }
    },
    "confusion_matrix": {
      "matrix": "[[561 136]\n [ 35 143]]",
      "true_negatives": 561,
      "false_positives": 136,
      "false_negatives": 35,
      "true_positives": 143,
      "specificity": 0.8048780487804879,
      "sensitivity": 0.8033707865168539,
      "false_positive_rate": 0.1951219512195122,
      "false_negative_rate": 0.19662921348314608
    },
    "cross_validation": {
      "accuracy": {
        "test_mean": 0.6515916615573267,
        "test_std": 0.061827310775782164,
        "train_mean": 0.6598275384979717,
        "train_std": 0.06035303395646615,
        "test_scores": [
          0.6871428571428572,
          0.6967095851216023,
          0.6723891273247496,
          0.6723891273247496,
          0.5293276108726752
        ],
        "train_scores": [
          0.6881258941344778,
          0.6921701823382195,
          0.6896675008938148,
          0.690025026814444,
          0.5391490883089024
        ]
      },
      "precision": {
        "test_mean": 0.3627480233187301,
        "test_std": 0.031358919394283084,
        "train_mean": 0.3695526514288187,
        "train_std": 0.0319707233742353,
        "test_scores": [
          0.3805031446540881,
          0.391304347826087,
          0.3677811550151976,
          0.37202380952380953,
          0.3021276595744681
        ],
        "train_scores": [
          0.38366718027734975,
          0.3899848254931715,
          0.3842556508183944,
          0.3840749414519906,
          0.30578065910318747
        ]
      },
      "recall": {
        "test_mean": 0.8905446666010046,
        "test_std": 0.05334049300918754,
        "train_mean": 0.8986794481826281,
        "train_std": 0.0490441627756699,
        "test_scores": [
          0.8461538461538461,
          0.8873239436619719,
          0.852112676056338,
          0.8741258741258742,
          0.993006993006993
        ],
        "train_scores": [
          0.8736842105263158,
          0.9001751313485113,
          0.8633975481611208,
          0.8631578947368421,
          0.9929824561403509
        ]
      },
      "f1": {
        "test_mean": 0.513413116039174,
        "test_std": 0.026828510810367405,
        "train_mean": 0.5216793731401037,
        "train_std": 0.027453524224967912,
        "test_scores": [
          0.5249457700650759,
          0.5431034482758621,
          0.5138004246284501,
          0.5219206680584552,
          0.4632952691680261
        ],
        "train_scores": [
          0.5331905781584583,
          0.5442032821598729,
          0.5318230852211435,
          0.5316045380875203,
          0.46757538207352334
        ]
      },
      "roc_auc": {
        "test_mean": 0.8120587474220151,
        "test_std": 0.01935866633977192,
        "train_mean": 0.8309897306064704,
        "train_std": 0.022669183167672375,
        "test_scores": [
          0.8221365707900716,
          0.817653677902243,
          0.8125395099501859,
          0.8323564924284348,
          0.7756074860391406
        ],
        "train_scores": [
          0.847295518670891,
          0.8376801469026299,
          0.8423849333541036,
          0.8415211243195551,
          0.7860669297851723
        ]
      }
    },
    "feature_importance": {
      "importance_data": [
        {
          "feature": "gender_Male",
          "importance": 0.222630002821875,
          "importance_pct": 22.2630002821875
        },
        {
          "feature": "age",
          "importance": 0.2009940164239212,
          "importance_pct": 20.09940164239212
        },
        {
          "feature": "data_package_D120",
          "importance": 0.14362941945938845,
          "importance_pct": 14.362941945938845
        },
        {
          "feature": "data_package_BIG90",
          "importance": 0.14292955493842766,
          "importance_pct": 14.292955493842765
        },
        {
          "feature": "data_spending",
          "importance": 0.13861921945904848,
          "importance_pct": 13.861921945904848
        },
        {
          "feature": "data_package_DMAX100",
          "importance": 0.09448171998671238,
          "importance_pct": 9.448171998671238
        },
        {
          "feature": "district_Phu Vang",
          "importance": 0.05188382571185587,
          "importance_pct": 5.188382571185587
        },
        {
          "feature": "voice_duration",
          "importance": 0.0026973167858241327,
          "importance_pct": 0.26973167858241326
        },
        {
          "feature": "data_volume",
          "importance": 0.0021349244129468072,
          "importance_pct": 0.21349244129468073
        },
        {
          "feature": "month",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "year",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "sms_spending",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "district_Phu Nhuan",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "district_Phu Loc",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "voice_spending",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "district_Vinh hoi",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_BIG70",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_BM69",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_D70",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "sms_volume",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_DCH",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_DGM",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_DINO70",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_DGT",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_DMAX",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_DVE80",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_GM30",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_GT30",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_M1",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_M3",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_MAX100",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_SP50",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_THAGA60",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_THAGA70",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_VE55",
          "importance": 0.0,
          "importance_pct": 0.0
        },
        {
          "feature": "data_package_VS50",
          "importance": 0.0,
          "importance_pct": 0.0
        }
      ],
      "total_features": 36,
      "used_features": 9,
      "unused_features": 27,
      "top_5_cumulative_importance": 84.88022131026608
    },
    "decision_tree": {
      "statistics": {
        "max_depth": 5,
        "n_nodes": 33,
        "n_leaves": 17,
        "n_features_used": 9,
        "total_features": 36,
        "configured_max_depth": null,
        "depth_limiting_enabled": false
      },
      "analysis": {
        "tree_structure": {
          "node_id": 0,
          "depth": 0,
          "parent_info": "Root",
          "n_samples": 5566,
          "class_distribution": [
            0.5,
            0.5
          ],
          "class_probabilities": [
            0.5,
            0.5
          ],
          "predicted_class": "No Churn",
          "is_leaf": "False",
          "feature": "data_package_BIG90",
          "feature_index": 15,
          "threshold": 0.9988412261009216,
          "split_rule": "data_package_BIG90 <= 0.999",
          "left_child": {
            "node_id": 1,
            "depth": 1,
            "parent_info": "data_package_BIG90 <= 0.999",
            "n_samples": 5138,
            "class_distribution": [
              0.4604904632152589,
              0.5395095367847411
            ],
            "class_probabilities": [
              0.4604904632152589,
              0.5395095367847411
            ],
            "predicted_class": "Churn",
            "is_leaf": "False",
            "feature": "gender_Male",
            "feature_index": 9,
            "threshold": 0.9997785985469818,
            "split_rule": "gender_Male <= 1.000",
            "left_child": {
              "node_id": 2,
              "depth": 2,
              "parent_info": "gender_Male <= 1.000",
              "n_samples": 2172,
              "class_distribution": [
                0.2900552486187845,
                0.7099447513812155
              ],
              "class_probabilities": [
                0.2900552486187845,
                0.7099447513812155
              ],
              "predicted_class": "Churn",
              "is_leaf": "False",
              "feature": "gender_Male",
              "feature_index": 9,
              "threshold": 0.0019085670355707407,
              "split_rule": "gender_Male <= 0.002",
              "left_child": {
                "node_id": 3,
                "depth": 3,
                "parent_info": "gender_Male <= 0.002",
                "n_samples": 1710,
                "class_distribution": [
                  0.3684210526315789,
                  0.631578947368421
                ],
                "class_probabilities": [
                  0.3684210526315789,
                  0.631578947368421
                ],
                "predicted_class": "Churn",
                "is_leaf": "False",
                "feature": "data_spending",
                "feature_index": 4,
                "threshold": -1.0062589645385742,
                "split_rule": "data_spending <= -1.006",
                "left_child": {
                  "node_id": 4,
                  "depth": 4,
                  "parent_info": "data_spending <= -1.006",
                  "n_samples": 375,
                  "class_distribution": [
                    0.10133333333333333,
                    0.8986666666666666
                  ],
                  "class_probabilities": [
                    0.10133333333333333,
                    0.8986666666666666
                  ],
                  "predicted_class": "Churn",
                  "is_leaf": "False",
                  "feature": "age",
                  "feature_index": 0,
                  "threshold": 0.5603355765342712,
                  "split_rule": "age <= 0.560",
                  "left_child": {
                    "node_id": 5,
                    "depth": 5,
                    "parent_info": "age <= 0.560",
                    "n_samples": 289,
                    "class_distribution": [
                      0.0,
                      1.0
                    ],
                    "class_probabilities": [
                      0.0,
                      1.0
                    ],
                    "predicted_class": "Churn",
                    "is_leaf": "True"
                  },
                  "right_child": {
                    "node_id": 6,
                    "depth": 5,
                    "parent_info": "age > 0.560",
                    "n_samples": 86,
                    "class_distribution": [
                      0.4418604651162791,
                      0.5581395348837209
                    ],
                    "class_probabilities": [
                      0.4418604651162791,
                      0.5581395348837209
                    ],
                    "predicted_class": "Churn",
                    "is_leaf": "True"
                  }
                },
                "right_child": {
                  "node_id": 7,
                  "depth": 4,
                  "parent_info": "data_spending > -1.006",
                  "n_samples": 1335,
                  "class_distribution": [
                    0.4434456928838951,
                    0.5565543071161049
                  ],
                  "class_probabilities": [
                    0.4434456928838951,
                    0.5565543071161049
                  ],
                  "predicted_class": "Churn",
                  "is_leaf": "False",
                  "feature": "data_spending",
                  "feature_index": 4,
                  "threshold": -0.46494533121585846,
                  "split_rule": "data_spending <= -0.465",
                  "left_child": {
                    "node_id": 8,
                    "depth": 5,
                    "parent_info": "data_spending <= -0.465",
                    "n_samples": 502,
                    "class_distribution": [
                      0.7589641434262948,
                      0.2410358565737052
                    ],
                    "class_probabilities": [
                      0.7589641434262948,
                      0.2410358565737052
                    ],
                    "predicted_class": "No Churn",
                    "is_leaf": "True"
                  },
                  "right_child": {
                    "node_id": 9,
                    "depth": 5,
                    "parent_info": "data_spending > -0.465",
                    "n_samples": 833,
                    "class_distribution": [
                      0.2533013205282113,
                      0.7466986794717887
                    ],
                    "class_probabilities": [
                      0.2533013205282113,
                      0.7466986794717887
                    ],
                    "predicted_class": "Churn",
                    "is_leaf": "True"
                  }
                }
              },
              "right_child": {
                "node_id": 10,
                "depth": 3,
                "parent_info": "gender_Male > 0.002",
                "n_samples": 462,
                "class_distribution": [
                  0.0,
                  1.0
                ],
                "class_probabilities": [
                  0.0,
                  1.0
                ],
                "predicted_class": "Churn",
                "is_leaf": "True"
              }
            },
            "right_child": {
              "node_id": 11,
              "depth": 2,
              "parent_info": "gender_Male > 1.000",
              "n_samples": 2966,
              "class_distribution": [
                0.5853000674308834,
                0.41469993256911664
              ],
              "class_probabilities": [
                0.5853000674308834,
                0.41469993256911664
              ],
              "predicted_class": "No Churn",
              "is_leaf": "False",
              "feature": "data_package_DMAX100",
              "feature_index": 24,
              "threshold": 0.025947649031877518,
              "split_rule": "data_package_DMAX100 <= 0.026",
              "left_child": {
                "node_id": 12,
                "depth": 3,
                "parent_info": "data_package_DMAX100 <= 0.026",
                "n_samples": 2715,
                "class_distribution": [
                  0.6324125230202579,
                  0.3675874769797422
                ],
                "class_probabilities": [
                  0.6324125230202579,
                  0.3675874769797422
                ],
                "predicted_class": "No Churn",
                "is_leaf": "False",
                "feature": "age",
                "feature_index": 0,
                "threshold": 0.3748292028903961,
                "split_rule": "age <= 0.375",
                "left_child": {
                  "node_id": 13,
                  "depth": 4,
                  "parent_info": "age <= 0.375",
                  "n_samples": 1589,
                  "class_distribution": [
                    0.7942101950912523,
                    0.20578980490874765
                  ],
                  "class_probabilities": [
                    0.7942101950912523,
                    0.20578980490874765
                  ],
                  "predicted_class": "No Churn",
                  "is_leaf": "False",
                  "feature": "data_package_D120",
                  "feature_index": 17,
                  "threshold": 0.02183995395898819,
                  "split_rule": "data_package_D120 <= 0.022",
                  "left_child": {
                    "node_id": 14,
                    "depth": 5,
                    "parent_info": "data_package_D120 <= 0.022",
                    "n_samples": 1436,
                    "class_distribution": [
                      0.8774373259052924,
                      0.12256267409470752
                    ],
                    "class_probabilities": [
                      0.8774373259052924,
                      0.12256267409470752
                    ],
                    "predicted_class": "No Churn",
                    "is_leaf": "True"
                  },
                  "right_child": {
                    "node_id": 15,
                    "depth": 5,
                    "parent_info": "data_package_D120 > 0.022",
                    "n_samples": 153,
                    "class_distribution": [
                      0.013071895424836602,
                      0.9869281045751634
                    ],
                    "class_probabilities": [
                      0.013071895424836602,
                      0.9869281045751634
                    ],
                    "predicted_class": "Churn",
                    "is_leaf": "True"
                  }
                },
                "right_child": {
                  "node_id": 16,
                  "depth": 4,
                  "parent_info": "age > 0.375",
                  "n_samples": 1126,
                  "class_distribution": [
                    0.40408525754884544,
                    0.5959147424511545
                  ],
                  "class_probabilities": [
                    0.40408525754884544,
                    0.5959147424511545
                  ],
                  "predicted_class": "Churn",
                  "is_leaf": "False",
                  "feature": "district_Phu Vang",
                  "feature_index": 12,
                  "threshold": 0.9822145700454712,
                  "split_rule": "district_Phu Vang <= 0.982",
                  "left_child": {
                    "node_id": 17,
                    "depth": 5,
                    "parent_info": "district_Phu Vang <= 0.982",
                    "n_samples": 901,
                    "class_distribution": [
                      0.30410654827968925,
                      0.6958934517203108
                    ],
                    "class_probabilities": [
                      0.30410654827968925,
                      0.6958934517203108
                    ],
                    "predicted_class": "Churn",
                    "is_leaf": "True"
                  },
                  "right_child": {
                    "node_id": 18,
                    "depth": 5,
                    "parent_info": "district_Phu Vang > 0.982",
                    "n_samples": 225,
                    "class_distribution": [
                      0.8044444444444444,
                      0.19555555555555557
                    ],
                    "class_probabilities": [
                      0.8044444444444444,
                      0.19555555555555557
                    ],
                    "predicted_class": "No Churn",
                    "is_leaf": "True"
                  }
                }
              },
              "right_child": {
                "node_id": 19,
                "depth": 3,
                "parent_info": "data_package_DMAX100 > 0.026",
                "n_samples": 251,
                "class_distribution": [
                  0.07569721115537849,
                  0.9243027888446215
                ],
                "class_probabilities": [
                  0.07569721115537849,
                  0.9243027888446215
                ],
                "predicted_class": "Churn",
                "is_leaf": "False",
                "feature": "age",
                "feature_index": 0,
                "threshold": 0.5648360550403595,
                "split_rule": "age <= 0.565",
                "left_child": {
                  "node_id": 20,
                  "depth": 4,
                  "parent_info": "age <= 0.565",
                  "n_samples": 224,
                  "class_distribution": [
                    0.004464285714285714,
                    0.9955357142857143
                  ],
                  "class_probabilities": [
                    0.004464285714285714,
                    0.9955357142857143
                  ],
                  "predicted_class": "Churn",
                  "is_leaf": "False",
                  "feature": "data_volume",
                  "feature_index": 3,
                  "threshold": 1.8654608130455017,
                  "split_rule": "data_volume <= 1.865",
                  "left_child": {
                    "node_id": 21,
                    "depth": 5,
                    "parent_info": "data_volume <= 1.865",
                    "n_samples": 219,
                    "class_distribution": [
                      0.0,
                      1.0
                    ],
                    "class_probabilities": [
                      0.0,
                      1.0
                    ],
                    "predicted_class": "Churn",
                    "is_leaf": "True"
                  },
                  "right_child": {
                    "node_id": 22,
                    "depth": 5,
                    "parent_info": "data_volume > 1.865",
                    "n_samples": 5,
                    "class_distribution": [
                      0.2,
                      0.8
                    ],
                    "class_probabilities": [
                      0.2,
                      0.8
                    ],
                    "predicted_class": "Churn",
                    "is_leaf": "True"
                  }
                },
                "right_child": {
                  "node_id": 23,
                  "depth": 4,
                  "parent_info": "age > 0.565",
                  "n_samples": 27,
                  "class_distribution": [
                    0.6666666666666666,
                    0.3333333333333333
                  ],
                  "class_probabilities": [
                    0.6666666666666666,
                    0.3333333333333333
                  ],
                  "predicted_class": "No Churn",
                  "is_leaf": "False",
                  "feature": "data_package_DMAX100",
                  "feature_index": 24,
                  "threshold": 0.866317629814148,
                  "split_rule": "data_package_DMAX100 <= 0.866",
                  "left_child": {
                    "node_id": 24,
                    "depth": 5,
                    "parent_info": "data_package_DMAX100 <= 0.866",
                    "n_samples": 8,
                    "class_distribution": [
                      0.0,
                      1.0
                    ],
                    "class_probabilities": [
                      0.0,
                      1.0
                    ],
                    "predicted_class": "Churn",
                    "is_leaf": "True"
                  },
                  "right_child": {
                    "node_id": 25,
                    "depth": 5,
                    "parent_info": "data_package_DMAX100 > 0.866",
                    "n_samples": 19,
                    "class_distribution": [
                      0.9473684210526315,
                      0.05263157894736842
                    ],
                    "class_probabilities": [
                      0.9473684210526315,
                      0.05263157894736842
                    ],
                    "predicted_class": "No Churn",
                    "is_leaf": "True"
                  }
                }
              }
            }
          },
          "right_child": {
            "node_id": 26,
            "depth": 1,
            "parent_info": "data_package_BIG90 > 0.999",
            "n_samples": 428,
            "class_distribution": [
              0.9742990654205608,
              0.02570093457943925
            ],
            "class_probabilities": [
              0.9742990654205608,
              0.02570093457943925
            ],
            "predicted_class": "No Churn",
            "is_leaf": "False",
            "feature": "age",
            "feature_index": 0,
            "threshold": 2.3832499980926514,
            "split_rule": "age <= 2.383",
            "left_child": {
              "node_id": 27,
              "depth": 2,
              "parent_info": "age <= 2.383",
              "n_samples": 422,
              "class_distribution": [
                0.9881516587677726,
                0.011848341232227487
              ],
              "class_probabilities": [
                0.9881516587677726,
                0.011848341232227487
              ],
              "predicted_class": "No Churn",
              "is_leaf": "False",
              "feature": "age",
              "feature_index": 0,
              "threshold": -1.8270707726478577,
              "split_rule": "age <= -1.827",
              "left_child": {
                "node_id": 28,
                "depth": 3,
                "parent_info": "age <= -1.827",
                "n_samples": 14,
                "class_distribution": [
                  0.6428571428571429,
                  0.35714285714285715
                ],
                "class_probabilities": [
                  0.6428571428571429,
                  0.35714285714285715
                ],
                "predicted_class": "No Churn",
                "is_leaf": "False",
                "feature": "voice_duration",
                "feature_index": 7,
                "threshold": -0.14856651052832603,
                "split_rule": "voice_duration <= -0.149",
                "left_child": {
                  "node_id": 29,
                  "depth": 4,
                  "parent_info": "voice_duration <= -0.149",
                  "n_samples": 7,
                  "class_distribution": [
                    0.2857142857142857,
                    0.7142857142857143
                  ],
                  "class_probabilities": [
                    0.2857142857142857,
                    0.7142857142857143
                  ],
                  "predicted_class": "Churn",
                  "is_leaf": "True"
                },
                "right_child": {
                  "node_id": 30,
                  "depth": 4,
                  "parent_info": "voice_duration > -0.149",
                  "n_samples": 7,
                  "class_distribution": [
                    1.0,
                    0.0
                  ],
                  "class_probabilities": [
                    1.0,
                    0.0
                  ],
                  "predicted_class": "No Churn",
                  "is_leaf": "True"
                }
              },
              "right_child": {
                "node_id": 31,
                "depth": 3,
                "parent_info": "age > -1.827",
                "n_samples": 408,
                "class_distribution": [
                  1.0,
                  0.0
                ],
                "class_probabilities": [
                  1.0,
                  0.0
                ],
                "predicted_class": "No Churn",
                "is_leaf": "True"
              }
            },
            "right_child": {
              "node_id": 32,
              "depth": 2,
              "parent_info": "age > 2.383",
              "n_samples": 6,
              "class_distribution": [
                0.0,
                1.0
              ],
              "class_probabilities": [
                0.0,
                1.0
              ],
              "predicted_class": "Churn",
              "is_leaf": "True"
            }
          }
        },
        "depth_distribution": {
          "0": 1,
          "1": 2,
          "2": 4,
          "3": 6,
          "4": 8,
          "5": 12
        },
        "important_paths": [
          {
            "path": [
              "data_package_BIG90 <= 0.999",
              "gender_Male <= 1.000",
              "gender_Male <= 0.002",
              "data_spending <= -1.006",
              "age <= 0.560",
              "Churn"
            ],
            "samples": 289,
            "importance": 0.05192238591448078,
            "prediction": "Churn",
            "confidence": 1.0
          },
          {
            "path": [
              "data_package_BIG90 <= 0.999",
              "gender_Male <= 1.000",
              "gender_Male <= 0.002",
              "data_spending <= -1.006",
              "data_spending <= -0.465",
              "No Churn"
            ],
            "samples": 502,
            "importance": 0.09019044196909809,
            "prediction": "No Churn",
            "confidence": 0.7589641434262948
          },
          {
            "path": [
              "data_package_BIG90 <= 0.999",
              "gender_Male <= 1.000",
              "gender_Male <= 0.002",
              "data_spending <= -1.006",
              "data_spending <= -0.465",
              "Churn"
            ],
            "samples": 833,
            "importance": 0.1496586417535034,
            "prediction": "Churn",
            "confidence": 0.7466986794717887
          },
          {
            "path": [
              "data_package_BIG90 <= 0.999",
              "gender_Male <= 1.000",
              "gender_Male <= 0.002",
              "Churn"
            ],
            "samples": 462,
            "importance": 0.08300395256916997,
            "prediction": "Churn",
            "confidence": 1.0
          },
          {
            "path": [
              "data_package_BIG90 <= 0.999",
              "gender_Male <= 1.000",
              "data_package_DMAX100 <= 0.026",
              "age <= 0.375",
              "data_package_D120 <= 0.022",
              "No Churn"
            ],
            "samples": 1436,
            "importance": 0.25799496945742006,
            "prediction": "No Churn",
            "confidence": 0.8774373259052924
          },
          {
            "path": [
              "data_package_BIG90 <= 0.999",
              "gender_Male <= 1.000",
              "data_package_DMAX100 <= 0.026",
              "age <= 0.375",
              "district_Phu Vang <= 0.982",
              "Churn"
            ],
            "samples": 901,
            "importance": 0.16187567373338124,
            "prediction": "Churn",
            "confidence": 0.6958934517203108
          },
          {
            "path": [
              "data_package_BIG90 <= 0.999",
              "age <= 2.383",
              "age <= -1.827",
              "No Churn"
            ],
            "samples": 408,
            "importance": 0.07330219187926698,
            "prediction": "No Churn",
            "confidence": 1.0
          }
        ],
        "max_depth": 5,
        "total_nodes": 33
      },
      "rules": {
        "basic_rules": "|--- data_package_BIG90 <= 1.00\n|   |--- gender_Male <= 1.00\n|   |   |--- gender_Male <= 0.00\n|   |   |   |--- data_spending <= -1.01\n|   |   |   |   |--- age <= 0.56\n|   |   |   |   |   |--- weights: [0.00, 289.00] class: Churn\n|   |   |   |   |--- age >  0.56\n|   |   |   |   |   |--- weights: [38.00, 48.00] class: Churn\n|   |   |   |--- data_spending >  -1.01\n|   |   |   |   |--- data_spending <= -0.46\n|   |   |   |   |   |--- weights: [381.00, 121.00] class: No Churn\n|   |   |   |   |--- data_spending >  -0.46\n|   |   |   |   |   |--- weights: [211.00, 622.00] class: Churn\n|   |   |--- gender_Male >  0.00\n|   |   |   |--- weights: [0.00, 462.00] class: Churn\n|   |--- gender_Male >  1.00\n|   |   |--- data_package_DMAX100 <= 0.03\n|   |   |   |--- age <= 0.37\n|   |   |   |   |--- data_package_D120 <= 0.02\n|   |   |   |   |   |--- weights: [1260.00, 176.00] class: No Churn\n|   |   |   |   |--- data_package_D120 >  0.02\n|   |   |   |   |   |--- weights: [2.00, 151.00] class: Churn\n|   |   |   |--- age >  0.37\n|   |   |   |   |--- district_Phu Vang <= 0.98\n|   |   |   |   |   |--- weights: [274.00, 627.00] class: Churn\n|   |   |   |   |--- district_Phu Vang >  0.98\n|   |   |   |   |   |--- weights: [181.00, 44.00] class: No Churn\n|   |   |--- data_package_DMAX100 >  0.03\n|   |   |   |--- age <= 0.56\n|   |   |   |   |--- data_volume <= 1.87\n|   |   |   |   |   |--- weights: [0.00, 219.00] class: Churn\n|   |   |   |   |--- data_volume >  1.87\n|   |   |   |   |   |--- weights: [1.00, 4.00] class: Churn\n|   |   |   |--- age >  0.56\n|   |   |   |   |--- data_package_DMAX100 <= 0.87\n|   |   |   |   |   |--- weights: [0.00, 8.00] class: Churn\n|   |   |   |   |--- data_package_DMAX100 >  0.87\n|   |   |   |   |   |--- weights: [18.00, 1.00] class: No Churn\n|--- data_package_BIG90 >  1.00\n|   |--- age <= 2.38\n|   |   |--- age <= -1.83\n|   |   |   |--- voice_duration <= -0.15\n|   |   |   |   |--- weights: [2.00, 5.00] class: Churn\n|   |   |   |--- voice_duration >  -0.15\n|   |   |   |   |--- weights: [7.00, 0.00] class: No Churn\n|   |   |--- age >  -1.83\n|   |   |   |--- weights: [408.00, 0.00] class: No Churn\n|   |--- age >  2.38\n|   |   |--- weights: [0.00, 6.00] class: Churn\n",
        "detailed_rules": "Decision tree analysis not available.",
        "rules_file": "outputs\\deployment\\evaluation\\decision_tree_rules.txt"
      },
      "visualizations": {
        "main_visualization": "outputs\\deployment\\evaluation\\decision_tree_full_depth_5.png",
        "all_visualizations": [
          "outputs\\deployment\\evaluation\\decision_tree_full_depth_5.png",
          "outputs\\deployment\\evaluation\\decision_tree_overview_depth_2.png",
          "outputs\\deployment\\evaluation\\decision_tree_mid_depth_4.png"
        ],
        "depths_generated": [
          5,
          2,
          4
        ],
        "actual_model_depth": 5,
        "visualization_depth": 5,
        "depth_limited": false
      }
    },
    "business_impact": {
      "total_customers": 875,
      "actual_churners": 178,
      "predicted_churners": 279,
      "correctly_identified": 143,
      "missed_churners": 35,
      "false_alarms": 136,
      "churn_rate": 0.20342857142857143,
      "identification_rate": 0.8033707865168539,
      "false_alarm_rate": 0.4874551971326165,
      "financial_impact": {
        "cost_per_lost_customer": 500,
        "cost_per_retention_campaign": 50,
        "value_saved": 71500,
        "campaign_cost": 13950,
        "lost_value": 17500,
        "net_value": 40050,
        "roi": 2.870967741935484
      }
    },
    "performance_rating": {
      "auc_rating": "Good",
      "accuracy_rating": "Good",
      "overall_grade": "B+",
      "overall_score": 3.5,
      "auc_score": 3,
      "accuracy_score": 4
    }
  },
  "summary_metrics": {
    "model_performance": {
      "accuracy": 0.8045714285714286,
      "precision": 0.5125448028673835,
      "recall": 0.8033707865168539,
      "f1_score": 0.6258205689277899,
      "roc_auc": 0.8666516209114503,
      "overall_grade": "B+"
    },
    "business_impact": {
      "net_value": 40050,
      "roi_percentage": 287.0967741935484,
      "customers_at_risk": 178,
      "customers_to_target": 279
    },
    "model_complexity": {
      "tree_depth": 5,
      "total_nodes": 33,
      "features_used": 9,
      "total_features": 36
    },
    "deployment_readiness": {
      "status": "APPROVED",
      "recommendation": "Model is ready for production deployment",
      "criteria_met": {
        "accuracy_threshold": true,
        "auc_threshold": "True",
        "grade_acceptable": true
      }
    }
  }
}